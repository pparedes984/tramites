/*
 * File: app/view/winNuevoTramite.js
 *
 * This file was generated by Sencha Architect version 4.2.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.5.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.5.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Tramites.view.winNuevoTramite', {
    extend: 'Ext.window.Window',
    alias: 'widget.winnuevotramite',

    requires: [
        'Tramites.view.winNuevoTramiteViewModel',
        'Tramites.view.winNuevoTramiteViewController',
        'Ext.form.Label',
        'Ext.form.Panel',
        'Ext.form.field.Display',
        'Ext.form.field.ComboBox',
        'Ext.form.field.Date',
        'Ext.form.field.Number',
        'Ext.form.field.TextArea',
        'Ext.button.Button'
    ],

    controller: 'winnuevotramite',
    viewModel: {
        type: 'winnuevotramite'
    },
    modal: true,
    draggable: false,
    height: 650,
    id: 'winNuevoTramite',
    scrollable: 'vertical',
    width: 688,
    constrainHeader: true,
    title: 'Nuevo Trámite',

    layout: {
        type: 'vbox',
        align: 'stretch'
    },
    items: [
        {
            xtype: 'label',
            text: 'Nota: Los campos con un * son obligatorios'
        },
        {
            xtype: 'form',
            reference: 'form',
            id: 'frmTramite',
            width: 672,
            bodyPadding: 10,
            title: '',
            items: [
                {
                    xtype: 'panel',
                    id: 'pnlTraObligatorios',
                    width: 614,
                    items: [
                        {
                            xtype: 'displayfield',
                            id: 'txtTraCodigo',
                            width: 205,
                            fieldLabel: 'Código de trámite *',
                            name: 'TRA_CODIGO'
                        },
                        {
                            xtype: 'combobox',
                            id: 'cbParametro2',
                            width: 443,
                            fieldLabel: 'Parametro *',
                            name: 'TRA_PRM_ID',
                            readOnly: false,
                            allowBlank: false,
                            editable: false,
                            displayField: 'PRM_NOMBRE',
                            store: 'Parametro',
                            valueField: 'PRM_ID'
                        },
                        {
                            xtype: 'datefield',
                            id: 'dtFecha',
                            fieldLabel: 'Fecha*',
                            name: 'TRA_FECHA',
                            value: new Date(),
                            readOnly: true,
                            editable: false,
                            format: 'Y-m-d H:i:s'
                        },
                        {
                            xtype: 'combobox',
                            id: 'cbAsunto2',
                            width: 445,
                            fieldLabel: 'Asunto*',
                            name: 'ASU_CODIGO',
                            allowBlank: false,
                            editable: false,
                            displayField: 'ASU_DESCRIPCION',
                            store: 'Asunto',
                            valueField: 'ASU_CODIGO',
                            listeners: {
                                expand: 'onCbAsunto2Expand',
                                select: 'onCbAsunto2Select'
                            }
                        },
                        {
                            xtype: 'displayfield',
                            hidden: true,
                            id: 'txtFormExt',
                            width: 680,
                            fieldLabel: 'Formulario Externo',
                            labelStyle: 'font-weight:bold;',
                            value: ''
                        },
                        {
                            xtype: 'displayfield',
                            hidden: true,
                            id: 'txturlFormulario',
                            margin: '0 0 20 105'
                        },
                        {
                            xtype: 'combobox',
                            id: 'cbUnidadSolicitante2',
                            width: 451,
                            fieldLabel: 'Unidad Solicitante*',
                            name: 'UND_CODIGO',
                            allowBlank: false,
                            editable: false,
                            displayField: 'UND_NOMBRE',
                            queryMode: 'local',
                            store: 'Unidad',
                            valueField: 'UND_CODIGO'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtOficio',
                            fieldLabel: 'N° Oficio',
                            name: 'TRA_OFICIO'
                        },
                        {
                            xtype: 'combobox',
                            id: 'cbUnidadGasto2',
                            width: 450,
                            fieldLabel: 'Unidad de Gasto',
                            name: 'TRA_GASTO',
                            enableKeyEvents: true,
                            anyMatch: true,
                            displayField: 'GST_NOMBRE',
                            forceSelection: true,
                            queryMode: 'local',
                            store: 'UnidadGasto',
                            typeAhead: true,
                            valueField: 'GST_NOMBRE'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtProyecto',
                            fieldLabel: 'Elemento PEP/ partida presupuestaria',
                            name: 'TRA_PROYECTO'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtCompromiso',
                            fieldLabel: 'Reserva:',
                            name: 'TRA_COMPROMISO'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtPosicion',
                            fieldLabel: 'Posición',
                            name: 'TRA_POSICION'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtBeneficiario1',
                            width: 450,
                            fieldLabel: 'Beneficiario',
                            name: 'TRA_BENEFICIARIO1',
                            emptyText: 'Ingrese solo mayusculas',
                            maskRe: /[A-Z\s]/
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtCedula1',
                            fieldLabel: 'No. Identificación',
                            name: 'TRA_CEDULA1',
                            enforceMaxLength: true,
                            maxLength: 20
                        }
                    ]
                },
                {
                    xtype: 'numberfield',
                    id: 'txtValor',
                    fieldLabel: 'Valor total',
                    name: 'TRA_VALOR',
                    decimalSeparator: '.',
                    maxValue: 9999999.99,
                    minValue: 0
                },
                {
                    xtype: 'combobox',
                    id: 'txtMoneda',
                    fieldLabel: 'Moneda',
                    name: 'TRA_MONEDA',
                    allowBlank: false,
                    editable: false,
                    displayField: 'nombre',
                    queryMode: 'local',
                    store: 'Moneda',
                    valueField: 'nombre'
                },
                {
                    xtype: 'panel',
                    id: 'pnlOpcionales',
                    items: [
                        {
                            xtype: 'textfield',
                            hidden: true,
                            id: 'txtBeneficiario2',
                            width: 450,
                            fieldLabel: 'Beneficiario 2',
                            name: 'TRA_BENEFICIARIO2'
                        },
                        {
                            xtype: 'textfield',
                            hidden: true,
                            id: 'txtCedula2',
                            fieldLabel: 'Cédula 2:',
                            name: 'TRA_CEDULA2',
                            enforceMaxLength: true,
                            maxLength: 20
                        },
                        {
                            xtype: 'numberfield',
                            id: 'txtDetalleFactura',
                            width: 580,
                            fieldLabel: 'Detalle factura',
                            name: 'TRA_DETALLE_FACTURA',
                            enforceMaxLength: true,
                            hideTrigger: true,
                            maxLength: 500
                        },
                        {
                            xtype: 'textareafield',
                            id: 'txtDescripcion',
                            width: 580,
                            fieldLabel: 'Descripción',
                            name: 'TRA_DESCRIPCION'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtPersonaAutoriza',
                            fieldLabel: 'Persona que autoriza*',
                            name: 'TRA_PERSONA_AUTORIZA',
                            allowBlank: false,
                            emptyText: 'Ingrese solo mayúsculas',
                            maskRe: /[A-Z\s]/
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtTelefono',
                            fieldLabel: 'Teléfono / Extension',
                            name: 'TRA_TELEFONO',
                            allowBlank: false,
                            maskRe: /[0-9]/
                        }
                    ]
                },
                {
                    xtype: 'panel',
                    id: 'pnlViaticos',
                    style: '#F6F6F6',
                    items: [
                        {
                            xtype: 'datefield',
                            id: 'dtFechaViajeViatico',
                            fieldLabel: 'Fecha Inicio de Viaje',
                            name: 'TRA_FECHA_VIAJE_VIATICO',
                            value: '',
                            editable: false,
                            format: 'Y-m-d'
                        },
                        {
                            xtype: 'datefield',
                            id: 'dtFechaFinViajeViatico',
                            fieldLabel: 'Fecha fin de Viaje',
                            name: 'TRA_FECHA_VIAJE_FIN_VIATICO',
                            format: 'Y-m-d'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtDestinoViatico',
                            fieldLabel: 'Destino',
                            name: 'TRA_DESTINO_VIATICO'
                        },
                        {
                            xtype: 'textfield',
                            id: 'txtResponsableViatico',
                            fieldLabel: 'Nombre de Responsable',
                            name: 'TRA_RESPONSABLE_VIATICO'
                        },
                        {
                            xtype: 'textareafield',
                            id: 'txtPersonasAdicionales',
                            width: 453,
                            fieldLabel: 'Personas Adicionales',
                            name: 'TRA_PERSONAS_ADIC_VIATICO'
                        },
                        {
                            xtype: 'textareafield',
                            id: 'txtObservacionesViaje',
                            width: 580,
                            fieldLabel: 'Observaciones de Viaje',
                            name: 'TRA_OBSERV_VIAJE_VIATICO'
                        }
                    ]
                },
                {
                    xtype: 'container',
                    html: '<style>    .buttonClass{background:#aa665e;}    .buttonClass:hover{background:#954136;}  .buttonClass:focus{background: #77342b;}   .buttonClass:active{background: #77342b;}   </style>',
                    padding: 10,
                    layout: {
                        type: 'hbox',
                        align: 'stretch',
                        pack: 'center'
                    },
                    items: [
                        {
                            xtype: 'button',
                            focusCls: 'custom-focus',
                            cls: 'buttonClass',
                            itemId: 'cancelButton',
                            margin: 5,
                            width: 165,
                            text: 'Cancelar',
                            listeners: {
                                click: 'onCancel'
                            }
                        },
                        {
                            xtype: 'button',
                            formBind: true,
                            id: 'save',
                            itemId: 'btnSave',
                            margin: 5,
                            width: 165,
                            text: 'Guardar',
                            listeners: {
                                click: 'onSave'
                            }
                        },
                        {
                            xtype: 'button',
                            id: 'editar',
                            margin: '3 0 0 0',
                            maxHeight: 38,
                            width: 165,
                            text: 'Guardar',
                            listeners: {
                                click: 'onEditarClick'
                            }
                        }
                    ]
                }
            ]
        }
    ],
    listeners: {
        afterrender: 'onWinNuevoTramiteAfterRender'
    }

});