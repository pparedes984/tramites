{
    "type": "Ext.window.Window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "constrainHeader": true,
        "container|align": "stretch",
        "designer|userAlias": "winnuevotramite",
        "designer|userClassName": "winNuevoTramite",
        "draggable": false,
        "height": 650,
        "id": "winNuevoTramite",
        "layout": "vbox",
        "modal": true,
        "scrollable": "vertical",
        "title": "Nuevo Trámite",
        "width": 688
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "id": "string",
        "modal": "boolean",
        "scrollable": "auto",
        "title": "string",
        "width": "auto",
        "constrainHeader": "boolean",
        "draggable": "boolean",
        "container|align": "string",
        "layout": "string"
    },
    "name": "MyWindow",
    "designerId": "dbb2b5d9-3d6e-4dbf-8337-2ee3e967be5f",
    "viewControllerInstanceId": "696c8741-f2f1-4cfb-a3f0-7f29a64fdf14",
    "viewModelInstanceId": "9a1db7d3-a4bb-48c0-b0c4-2210f3c35a58",
    "cn": [
        {
            "type": "Ext.form.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": null,
                "text": "Nota: Los campos con un * son obligatorios"
            },
            "configAlternates": {
                "dock": "string",
                "text": "string"
            },
            "name": "MyLabel",
            "designerId": "9548514d-97ec-4898-a375-9cdb46ff261e"
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "id": "frmTramite",
                "reference": "form",
                "title": "",
                "width": 672
            },
            "configAlternates": {
                "bodyPadding": "auto",
                "id": "string",
                "width": "auto",
                "reference": "string",
                "title": "string"
            },
            "name": "MyForm",
            "designerId": "a23a9776-f9c8-4b5f-b078-2bef64bfc237",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "pnlTraObligatorios",
                        "width": 614
                    },
                    "configAlternates": {
                        "id": "string",
                        "width": "auto"
                    },
                    "name": "MyPanel2",
                    "designerId": "fe702b2d-9688-4c2c-8255-eed0b5ea2b7d",
                    "cn": [
                        {
                            "type": "Ext.form.field.Display",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Código de trámite *",
                                "id": "txtTraCodigo",
                                "name": "TRA_CODIGO",
                                "width": 205
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "name": "string",
                                "width": "auto",
                                "id": "string"
                            },
                            "name": "MyDisplayField",
                            "designerId": "ca0b255e-15b7-4a9a-80cf-4423f9c19105"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "displayField": "PRM_NOMBRE",
                                "editable": false,
                                "fieldLabel": "Parametro *",
                                "id": "cbParametro2",
                                "name": "TRA_PRM_ID",
                                "readOnly": false,
                                "store": "Parametro",
                                "valueField": "PRM_ID",
                                "width": 443
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "store": "store",
                                "valueField": "datafield",
                                "width": "auto",
                                "editable": "boolean",
                                "allowBlank": "boolean",
                                "readOnly": "boolean"
                            },
                            "name": "MyComboBox",
                            "designerId": "8af9c43e-6884-4c94-9083-088c6c0fff5b"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "displayField": "ASU_DESCRIPCION",
                                "editable": false,
                                "fieldLabel": "Asunto*",
                                "id": "cbAsunto2",
                                "name": "ASU_CODIGO",
                                "store": "Asunto",
                                "valueField": "ASU_CODIGO",
                                "width": 445
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "store": "store",
                                "valueField": "datafield",
                                "width": "auto",
                                "editable": "boolean",
                                "allowBlank": "boolean"
                            },
                            "name": "MyComboBox4",
                            "designerId": "b1c9bce3-b197-4b80-98f9-7328a4bd3039",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCbAsunto2Expand",
                                        "implHandler": [
                                            "if(Ext.getCmp('cbParametro2').getValue()!==null){",
                                            "    var txtparametro = Ext.getCmp('cbParametro2').getValue();",
                                            "    var strAsunto = Ext.getStore('Asunto');",
                                            "    strAsunto.proxy.extraParams = {",
                                            "        parametro: txtparametro",
                                            "    };",
                                            "    strAsunto.load();",
                                            "}"
                                        ],
                                        "name": "expand",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onCbAsunto2Expand",
                                    "designerId": "b59646d9-afab-4f24-aaba-a180ed86af57"
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCbAsunto2Select",
                                        "implHandler": [
                                            "//Campos opcionales y obligatorios",
                                            "var idAsunto = Ext.getCmp('cbAsunto2').getValue();",
                                            "Ext.Ajax.request({",
                                            "    method: 'post',",
                                            "    url: '../servidor/tramites/campo/getCampos',",
                                            "    params: {",
                                            "        asunto: idAsunto",
                                            "    },",
                                            "    success: function (response, options) {",
                                            "        var responseData = Ext.JSON.decode(response.responseText);",
                                            "        //if (responseData.success) {",
                                            "        var campos = responseData.data;",
                                            "        if(campos !== undefined){",
                                            "            var viaticos = campos.find(o => o.CMP_NOMBRE === 'TRA_FECHA_VIAJE_VIATICO');",
                                            "            var undgasto = campos.find(o => o.CMP_NOMBRE === 'TRA_GASTO');",
                                            "            var valor = campos.find(o => o.CMP_NOMBRE === 'TRA_VALOR');",
                                            "            var beneficiario = campos.find(o => o.CMP_NOMBRE === 'TRA_BENEFICIARIO1');",
                                            "        }",
                                            "        else{",
                                            "            var viaticos = undefined;",
                                            "            var undgasto = undefined;",
                                            "            var valor = undefined;",
                                            "            var beneficiario = undefined;",
                                            "        }",
                                            "        Ext.getCmp('cbUnidadSolicitante2').focus(true);",
                                            "        Ext.getCmp('cbUnidadSolicitante2').focus(false);",
                                            "        Ext.getCmp('txtPersonaAutoriza').focus(true);",
                                            "        Ext.getCmp('txtPersonaAutoriza').focus(false);",
                                            "",
                                            "        if(viaticos !== undefined){//Identifica si Viaticos son obligatorios",
                                            "            Ext.getCmp('pnlViaticos').setHidden(false);",
                                            "            Ext.getCmp('dtFechaViajeViatico').allowBlank = false;",
                                            "            Ext.getCmp('txtDestinoViatico').allowBlank = false;",
                                            "            Ext.getCmp('txtResponsableViatico').allowBlank = false;",
                                            "            Ext.getCmp('dtFechaViajeViatico').setFieldLabel('Fecha de Viaje*');",
                                            "            Ext.getCmp('txtDestinoViatico').setFieldLabel('Destino*');",
                                            "            Ext.getCmp('txtResponsableViatico').setFieldLabel('Nombre de Responsable*');",
                                            "            Ext.getCmp('dtFechaViajeViatico').focus(true);",
                                            "            Ext.getCmp('txtDestinoViatico').focus(true);",
                                            "            Ext.getCmp('txtResponsableViatico').focus(true);",
                                            "            Ext.getCmp('dtFechaViajeViatico').focus(false);",
                                            "            Ext.getCmp('txtDestinoViatico').focus(false);",
                                            "            Ext.getCmp('txtResponsableViatico').focus(false);",
                                            "        }",
                                            "        else{",
                                            "            Ext.getCmp('dtFechaViajeViatico').allowBlank = true;",
                                            "            Ext.getCmp('txtDestinoViatico').allowBlank = true;",
                                            "            Ext.getCmp('txtResponsableViatico').allowBlank = true;",
                                            "            Ext.getCmp('dtFechaViajeViatico').setFieldLabel('Fecha de Viaje');",
                                            "            Ext.getCmp('txtDestinoViatico').setFieldLabel('Destino');",
                                            "            Ext.getCmp('txtResponsableViatico').setFieldLabel('Nombre de Responsable');",
                                            "",
                                            "            //Elimina los datos de viaticos si el asunto no requiere de viaticos",
                                            "            Ext.getCmp('dtFechaViajeViatico').reset();",
                                            "            Ext.getCmp('txtDestinoViatico').reset();",
                                            "            Ext.getCmp('txtResponsableViatico').reset();",
                                            "            Ext.getCmp('txtPersonasAdicionales').reset();",
                                            "            Ext.getCmp('txtObservacionesViaje').reset();",
                                            "            Ext.getCmp('dtFechaViajeViatico').focus(true);",
                                            "            Ext.getCmp('txtDestinoViatico').focus(true);",
                                            "            Ext.getCmp('txtResponsableViatico').focus(true);",
                                            "            Ext.getCmp('dtFechaViajeViatico').focus(false);",
                                            "            Ext.getCmp('txtDestinoViatico').focus(false);",
                                            "            Ext.getCmp('txtResponsableViatico').focus(false);",
                                            "            Ext.getCmp('pnlViaticos').setHidden(true);",
                                            "            //btnguardar.setDisabled(false);",
                                            "        }",
                                            "",
                                            "        if(undgasto !== undefined){//Identifica si Und de Gasto es obligatoria",
                                            "            Ext.getCmp('cbUnidadGasto2').allowBlank = false;",
                                            "            Ext.getCmp('cbUnidadGasto2').setFieldLabel('Unidad de Gasto*');",
                                            "            Ext.getCmp('cbUnidadGasto2').focus(true);",
                                            "            Ext.getCmp('cbUnidadGasto2').focus(false);",
                                            "        }",
                                            "        else{",
                                            "            Ext.getCmp('cbUnidadGasto2').allowBlank = true;",
                                            "            Ext.getCmp('cbUnidadGasto2').setFieldLabel('Unidad de Gasto');",
                                            "            Ext.getCmp('cbUnidadGasto2').focus(true);",
                                            "            Ext.getCmp('cbUnidadGasto2').focus(false);",
                                            "        }",
                                            "        if(valor !== undefined){//Identifica si Valor es obligatoria",
                                            "            Ext.getCmp('txtValor').allowBlank = false;",
                                            "            Ext.getCmp('txtValor').setFieldLabel('Valor*');",
                                            "            Ext.getCmp('txtValor').focus(true);",
                                            "            Ext.getCmp('txtValor').focus(false);",
                                            "        }",
                                            "        else{",
                                            "            Ext.getCmp('txtValor').allowBlank = true;",
                                            "            Ext.getCmp('txtValor').setFieldLabel('Valor');",
                                            "            Ext.getCmp('txtValor').focus(true);",
                                            "            Ext.getCmp('txtValor').focus(false);",
                                            "",
                                            "        }",
                                            "",
                                            "        if(beneficiario !== undefined){//Identifica si Beneficiario es obligatoria",
                                            "            Ext.getCmp('txtBeneficiario1').allowBlank = false;",
                                            "            Ext.getCmp('txtBeneficiario1').setFieldLabel('Beneficiario*');",
                                            "            Ext.getCmp('txtCedula1').allowBlank = false;",
                                            "            Ext.getCmp('txtCedula1').setFieldLabel('Documento de Identidad*');",
                                            "            Ext.getCmp('txtBeneficiario1').focus(true);",
                                            "            Ext.getCmp('txtBeneficiario1').focus(false);",
                                            "            Ext.getCmp('txtCedula1').focus(true);",
                                            "            Ext.getCmp('txtCedula1').focus(false);",
                                            "",
                                            "        //}",
                                            "        else{",
                                            "            Ext.getCmp('txtBeneficiario1').allowBlank = true;",
                                            "            Ext.getCmp('txtBeneficiario1').setFieldLabel('Beneficiario');",
                                            "            Ext.getCmp('txtCedula1').allowBlank = true;",
                                            "            Ext.getCmp('txtCedula1').setFieldLabel('Documento de Identidad');",
                                            "            Ext.getCmp('txtBeneficiario1').focus(true);",
                                            "            Ext.getCmp('txtBeneficiario1').focus(false);",
                                            "            Ext.getCmp('txtCedula1').focus(true);",
                                            "            Ext.getCmp('txtCedula1').focus(false);",
                                            "        }",
                                            "",
                                            "        //}",
                                            "    },",
                                            "",
                                            "    failure: function (response, options) {",
                                            "        console.log('falla');",
                                            "    }",
                                            "});",
                                            "",
                                            "Ext.Ajax.request({//Verifica si utiliza formulario externo",
                                            "    method: 'post',",
                                            "    url: '../servidor/tramites/formularioexterno/getFormularioExterno',",
                                            "    params: {",
                                            "        asunto: idAsunto",
                                            "    },",
                                            "    success: function (response, options) {",
                                            "        var responseData = Ext.JSON.decode(response.responseText);",
                                            "        if(responseData.success){",
                                            "            Ext.getCmp('txtFormExt').setHidden(false);",
                                            "            Ext.getCmp('txturlFormulario').setHidden(false);",
                                            "            var formext = responseData.data[0].FOR_DIRECCION;//Direccion url",
                                            "            var formnombre = responseData.data[0].FOR_NOMBRE;",
                                            "",
                                            "            Ext.getCmp('txtFormExt').setValue('Para este tipo de tramite debe descargar el Formulario, llenarlo y entregarlo en la DGF<br>'",
                                            "                                              +'junto con la solicitud de trámite:');",
                                            "            var links = formext.split('^');",
                                            "            var nombres = formnombre.split('^');",
                                            "            var texto = '';",
                                            "            for(i=0;i<links.length;i++){",
                                            "                if(i===0)",
                                            "                    texto = texto+'<a href=\"'+links[i]+'\">'+nombres[i]+'</a>';",
                                            "                else",
                                            "                    texto = texto+'<br>'+'<a href=\"'+links[i]+'\">'+nombres[i]+'</a>';",
                                            "            }",
                                            "            Ext.getCmp('txturlFormulario').setHtml(texto);",
                                            "        }",
                                            "        else{",
                                            "            Ext.getCmp('txtFormExt').setHidden(true);",
                                            "            Ext.getCmp('txturlFormulario').setHidden(true);",
                                            "        }",
                                            "    },",
                                            "",
                                            "    failure: function (response, options) {",
                                            "        Ext.getCmp('txtFormExt').setHidden(true);",
                                            "    }",
                                            "});",
                                            "Ext.getCmp('winNuevoTramite').scrollTo('top', 0);"
                                        ],
                                        "name": "select",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onCbAsunto2Select",
                                    "designerId": "882da8bf-720e-4a39-8266-c9e065da78ae"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Display",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Formulario Externo",
                                "hidden": true,
                                "id": "txtFormExt",
                                "labelStyle": "font-weight:bold;",
                                "value": "",
                                "width": 680
                            },
                            "configAlternates": {
                                "editable": "boolean",
                                "fieldLabel": "string",
                                "height": "auto",
                                "hidden": "boolean",
                                "id": "string",
                                "width": "auto",
                                "submitValue": "boolean",
                                "labelStyle": "string",
                                "value": "string"
                            },
                            "name": "MyDisplayField19",
                            "designerId": "f7ec6274-46c5-43e5-b470-7206fe242d5c"
                        },
                        {
                            "type": "Ext.form.field.Display",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "hidden": true,
                                "id": "txturlFormulario",
                                "margin": "0 0 20 105"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "hidden": "boolean",
                                "margin": "auto"
                            },
                            "name": "MyDisplayField2",
                            "designerId": "ac92eeff-f074-49ae-bf1c-b54c28621bea"
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "editable": false,
                                "fieldLabel": "Fecha*",
                                "format": "Y-m-d",
                                "id": "dtFecha",
                                "name": "TRA_FECHA",
                                "readOnly": true,
                                "value": [
                                    "new Date()"
                                ]
                            },
                            "configAlternates": {
                                "value": "object",
                                "disabled": "boolean",
                                "editable": "boolean",
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "format": "string",
                                "readOnly": "boolean"
                            },
                            "name": "MyDateField2",
                            "designerId": "990ff0f8-fe84-4c47-914b-e360a0bb08f8"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "N° Oficio",
                                "id": "txtOficio",
                                "name": "TRA_OFICIO"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string"
                            },
                            "name": "MyTextField15",
                            "designerId": "307050f9-4ae7-48cb-bee9-8372d062178c"
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "displayField": "UND_NOMBRE",
                                "editable": false,
                                "fieldLabel": "Unidad Solicitante*",
                                "id": "cbUnidadSolicitante2",
                                "name": "UND_CODIGO",
                                "queryMode": "local",
                                "store": "Unidad",
                                "valueField": "UND_CODIGO",
                                "width": 451
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "store": "store",
                                "valueField": "datafield",
                                "width": "auto",
                                "editable": "boolean",
                                "allowBlank": "boolean",
                                "queryMode": "string"
                            },
                            "name": "MyComboBox7",
                            "designerId": "86d3605f-e198-48a7-aef7-ee3581c3b1b9"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "allowBlank": false,
                                "fieldLabel": "Persona que autoriza*",
                                "id": "txtPersonaAutoriza",
                                "name": "TRA_PERSONA_AUTORIZA"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "allowBlank": "boolean"
                            },
                            "name": "MyTextField22",
                            "designerId": "ee089c87-9c31-4d51-8ed8-7e819791a90a"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Teléfono",
                        "id": "txtTelefono",
                        "name": "TRA_TELEFONO"
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "id": "string",
                        "name": "string"
                    },
                    "name": "MyTextField23",
                    "designerId": "58a9a956-e8a5-4758-9ec5-273cacc38a1a"
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "GST_NOMBRE",
                        "enableKeyEvents": true,
                        "fieldLabel": "Unidad de Gasto",
                        "hideTrigger": true,
                        "id": "cbUnidadGasto2",
                        "name": "TRA_GASTO",
                        "store": "UnidadGasto",
                        "valueField": "GST_NOMBRE",
                        "width": 450
                    },
                    "configAlternates": {
                        "displayField": "datafield",
                        "fieldLabel": "string",
                        "id": "string",
                        "name": "string",
                        "store": "store",
                        "valueField": "datafield",
                        "width": "auto",
                        "editable": "boolean",
                        "enableKeyEvents": "boolean",
                        "hideTrigger": "boolean",
                        "queryMode": "string"
                    },
                    "name": "MyComboBox5",
                    "designerId": "d9e07cd4-6265-45a6-ab24-160326878987",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCbUnidadGasto2Keyup",
                                "implHandler": [
                                    "var txtUndGasto = Ext.getCmp('cbUnidadGasto2').getValue();",
                                    "if(txtUndGasto !== null && e.isSpecialKey() === false){",
                                    "    var strUndGasto = Ext.getCmp('cbUnidadGasto2').getStore();",
                                    "    strUndGasto.removeAll();",
                                    "    strUndGasto.proxy.extraParams = {",
                                    "        busqueda: 1,//Parametro para elegir el tipo de busqueda",
                                    "        textounidad:txtUndGasto",
                                    "    };",
                                    "    strUndGasto.load();",
                                    "    Ext.getCmp('cbUnidadGasto2').expand();",
                                    "}"
                                ],
                                "name": "keyup",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCbUnidadGasto2Keyup",
                            "designerId": "e242985e-42d7-4daa-862a-2a75b760cd08"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCbUnidadGasto2Focusleave",
                                "implHandler": [
                                    ""
                                ],
                                "name": "focusleave",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCbUnidadGasto2Focusleave",
                            "designerId": "b4b216c4-19ce-4bb3-915a-4b462db4599e"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Proyecto/ partida presupuestaria",
                        "id": "txtProyecto",
                        "name": "TRA_PROYECTO"
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "id": "string",
                        "name": "string"
                    },
                    "name": "MyTextField20",
                    "designerId": "3cbb6a6a-65f2-4c09-b735-20ce6f546066"
                },
                {
                    "type": "Ext.form.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Valor",
                        "id": "txtValor",
                        "maxValue": 9999999.99,
                        "minValue": 0,
                        "name": "TRA_VALOR"
                    },
                    "configAlternates": {
                        "fieldLabel": "string",
                        "id": "string",
                        "name": "string",
                        "value": "object",
                        "maxValue": "number",
                        "minValue": "number"
                    },
                    "name": "MyNumberField4",
                    "designerId": "1779c0f0-19a1-4b08-b395-4523d3a3e6f9"
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "pnlOpcionales"
                    },
                    "configAlternates": {
                        "id": "string"
                    },
                    "name": "MyPanel3",
                    "designerId": "c06c99c7-b19b-41bd-805b-5886919e470a",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Beneficiario",
                                "id": "txtBeneficiario1",
                                "name": "TRA_BENEFICIARIO1",
                                "width": 450
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "allowBlank": "boolean",
                                "width": "auto"
                            },
                            "name": "MyTextField16",
                            "designerId": "4a389581-647a-4877-8e2d-a1274753754f"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "enforceMaxLength": true,
                                "fieldLabel": "Documento de Identidad",
                                "id": "txtCedula1",
                                "maxLength": 20,
                                "name": "TRA_CEDULA1"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "enforceMaxLength": "boolean",
                                "maxLength": "number",
                                "maxLengthText": "string",
                                "minLength": "number",
                                "allowBlank": "boolean"
                            },
                            "name": "MyTextField18",
                            "designerId": "0675751c-a546-492c-ad6c-4706ebcb9b2e"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Beneficiario 2",
                                "hidden": true,
                                "id": "txtBeneficiario2",
                                "name": "TRA_BENEFICIARIO2",
                                "width": 450
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "width": "auto",
                                "hidden": "boolean"
                            },
                            "name": "MyTextField17",
                            "designerId": "a197360b-e00b-4af3-b35e-05add81e89d6"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "enforceMaxLength": true,
                                "fieldLabel": "Cédula 2:",
                                "hidden": true,
                                "id": "txtCedula2",
                                "maxLength": 20,
                                "name": "TRA_CEDULA2"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "enforceMaxLength": "boolean",
                                "maxLength": "number",
                                "maxLengthText": "string",
                                "minLength": "number",
                                "minLengthText": "string",
                                "hidden": "boolean"
                            },
                            "name": "MyTextField19",
                            "designerId": "f0374ce2-a2d6-4ac1-babf-7065f203fb39"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "N° Compromiso",
                                "id": "txtCompromiso",
                                "name": "TRA_COMPROMISO"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string"
                            },
                            "name": "MyTextField21",
                            "designerId": "9abc710b-e997-4a15-8b37-f6517c6af3ee"
                        },
                        {
                            "type": "Ext.form.field.Number",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Detalle factura",
                                "hideTrigger": true,
                                "id": "txtDetalleFactura",
                                "name": "TRA_DETALLE_FACTURA"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "width": "auto",
                                "value": "object",
                                "hideTrigger": "boolean"
                            },
                            "name": "MyNumberField5",
                            "designerId": "02e65eea-048b-423c-bd53-7e7f49d5c24c"
                        },
                        {
                            "type": "Ext.form.field.TextArea",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Descripción",
                                "id": "txtDescripcion",
                                "name": "TRA_DESCRIPCION",
                                "width": 580
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "width": "auto"
                            },
                            "name": "MyTextArea2",
                            "designerId": "22ce8887-04c8-4856-907a-5f0d64d5d2ba"
                        }
                    ]
                },
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "pnlViaticos"
                    },
                    "configAlternates": {
                        "id": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyPanel1",
                    "designerId": "2d1ff6e2-5edb-4ed8-97e9-26b8b3c0f27e",
                    "cn": [
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "editable": false,
                                "fieldLabel": "Fecha Inicio de Viaje",
                                "format": "Y-m-d",
                                "id": "dtFechaViajeViatico",
                                "name": "TRA_FECHA_VIAJE_VIATICO",
                                "value": [
                                    "''"
                                ]
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "editable": "boolean",
                                "format": "string",
                                "value": "object"
                            },
                            "name": "MyDateField3",
                            "designerId": "12126f51-e1c0-4e00-a427-7363304dcafe"
                        },
                        {
                            "type": "Ext.form.field.Date",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Fecha fin de Viaje",
                                "format": "Y-m-d",
                                "id": "dtFechaFinViajeViatico",
                                "name": "TRA_FECHA_VIAJE_FIN_VIATICO"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "format": "string",
                                "id": "string",
                                "name": "string"
                            },
                            "name": "MyDateField4",
                            "designerId": "a9b12661-4c14-42ef-a399-7c067fd8ff16"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Destino",
                                "id": "txtDestinoViatico",
                                "labelWidth": null,
                                "name": "TRA_DESTINO_VIATICO"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "labelWidth": "number"
                            },
                            "name": "MyTextField24",
                            "designerId": "84efb39f-80ce-4e57-a297-582f2c56d007"
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Nombre de Responsable",
                                "id": "txtResponsableViatico",
                                "name": "TRA_RESPONSABLE_VIATICO"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string"
                            },
                            "name": "MyTextField25",
                            "designerId": "e60ab4ca-5c20-481b-af87-c9d5b4985c05"
                        },
                        {
                            "type": "Ext.form.field.TextArea",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Personas Adicionales",
                                "id": "txtPersonasAdicionales",
                                "name": "TRA_PERSONAS_ADIC_VIATICO",
                                "width": 453
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "width": "auto"
                            },
                            "name": "MyTextArea",
                            "designerId": "5b8ff893-3ff8-45f7-bbf7-ec9208fb32b9"
                        },
                        {
                            "type": "Ext.form.field.TextArea",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Observaciones de Viaje",
                                "id": "txtObservacionesViaje",
                                "name": "TRA_OBSERV_VIAJE_VIATICO",
                                "width": 580
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "id": "string",
                                "name": "string",
                                "width": "auto"
                            },
                            "name": "MyTextArea1",
                            "designerId": "08137301-2143-4bc2-9498-a86d12e00bc5"
                        }
                    ]
                },
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "container|pack": "center",
                        "designer|displayName": "buttons",
                        "layout": "hbox",
                        "padding": 10
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "container|pack": "string",
                        "designer|displayName": "string",
                        "layout": "string",
                        "padding": "auto"
                    },
                    "name": "MyContainer",
                    "designerId": "8b0a92d7-3a8a-43ff-b51a-f804b6bc9ef8",
                    "cn": [
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "cancelButton",
                                "margin": 5,
                                "text": "Cancelar",
                                "width": 200
                            },
                            "configAlternates": {
                                "itemId": "string",
                                "layout|flex": "number",
                                "margin": "auto",
                                "text": "string",
                                "style": "object",
                                "width": "auto"
                            },
                            "name": "MyButton1",
                            "designerId": "47a501a9-084d-469f-9ed0-05e742a06c39",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCancel",
                                        "implHandler": [
                                            "Ext.getCmp('winNuevoTramite').close();"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onCancel",
                                    "designerId": "80aae60a-0c34-49c2-a930-8b182c0b2528"
                                }
                            ]
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "formBind": true,
                                "itemId": "btnSave",
                                "margin": 5,
                                "text": "Guardar",
                                "width": 200
                            },
                            "configAlternates": {
                                "formBind": "boolean",
                                "itemId": "string",
                                "layout|flex": "number",
                                "margin": "auto",
                                "text": "string",
                                "width": "auto"
                            },
                            "name": "MyButton",
                            "designerId": "20dd7e43-529a-4875-a1fb-8c388138350d",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onSave",
                                        "implHandler": [
                                            "var me = this;",
                                            "var forma = Ext.getCmp('frmTramite').getForm(),",
                                            "    store = Ext.StoreManager.lookup('Registro');",
                                            "var txtUndGasto = Ext.getCmp('cbUnidadGasto2').getValue();",
                                            "    Ext.Ajax.request",
                                            "    (",
                                            "        {",
                                            "            method: 'post',",
                                            "            url: '../servidor/tramites/unidadgasto/verificarUnidadGasto',",
                                            "            params: {",
                                            "                undGasto: txtUndGasto",
                                            "            },",
                                            "            success: function (response, options) {",
                                            "                var responseData = Ext.JSON.decode(response.responseText);",
                                            "                if (!responseData.success && txtUndGasto !== '' && txtUndGasto !== null ) {",
                                            "                    Ext.Msg.show//Mensaje de Error",
                                            "                    (",
                                            "                        {",
                                            "                            title: 'Error',",
                                            "                            msg: 'Seleccione una Unidad de Gasto Válida',",
                                            "                            icon: Ext.Msg.ERROR,",
                                            "                            buttons: Ext.Msg.OK",
                                            "                        }",
                                            "                    );",
                                            "                    Ext.getCmp('cbUnidadGasto2').setValue(null);",
                                            "                }",
                                            "                else{",
                                            "                    if (forma.isValid()) {",
                                            "                        var rec    = forma.getRecord();",
                                            "                        var values = forma.getValues();",
                                            "                        rec.set(values);",
                                            "                        store.add(rec);",
                                            "                        /*if(rec.phantom)",
                                            "                            store.add(rec);",
                                            "                        else if(rec.dirty)",
                                            "                            forma.updateRecord();*/",
                                            "",
                                            "                        store.sync(",
                                            "                            {",
                                            "                                params: {",
                                            "                                    idParametro: Ext.getCmp('cbParametroPrincipal').getValue()//Se envia el codigo del parametro",
                                            "                                },",
                                            "                                success: function(response, batch, options)",
                                            "                                {",
                                            "                                    forma.loadRecord(rec);",
                                            "                                    store.load();",
                                            "                                    Ext.getCmp('grdTramite').getStore().load();",
                                            "                                    Ext.Msg.alert('Datos Guardados','Los datos se han guardado exitosamente');",
                                            "                                    me.onCancel();",
                                            "                                },",
                                            "                                failure: function(batch, options)",
                                            "                                {",
                                            "                                    responseObj = Ext.decode(batch.exceptions[0].getResponse().responseText);",
                                            "                                    Ext.Msg.alert('Error', 'Hubo un error. '+responseObj.message);",
                                            "                                    me.onCancel();",
                                            "",
                                            "                                    //Cargar grid con tramites",
                                            "                                    var strTramiteReg = Ext.getStore('Registro');",
                                            "                                    strTramiteReg.removeAll();",
                                            "                                    Ext.getCmp('grdTramite').store.removeAll();",
                                            "                                    strTramiteReg.proxy.extraParams = {",
                                            "                                        busqueda: 4//Parametro para elegir el tipo de busqueda",
                                            "                                    };",
                                            "                                    strTramiteReg.load();",
                                            "                                }",
                                            "                            }",
                                            "                        );",
                                            "                    }",
                                            "",
                                            "                    else",
                                            "                    {",
                                            "                        Ext.Msg.alert('Atención','Los datos son incorrectos o se encuentran incompletos');",
                                            "                        Ext.getCmp('txtFormExt').setDisabled(false);",
                                            "                    }",
                                            "                }",
                                            "            },",
                                            "            failure: function (response, options){",
                                            "                Ext.Msg.show//Mensaje de Error",
                                            "                (",
                                            "                    {",
                                            "                        title: 'Error',",
                                            "                        msg: 'Ocurrió un Error',",
                                            "                        icon: Ext.Msg.ERROR,",
                                            "                        buttons: Ext.Msg.OK",
                                            "                    }",
                                            "                );",
                                            "                Ext.getCmp('cbUnidadGasto2').setValue(null);",
                                            "            }",
                                            "        }",
                                            "    );"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onSave",
                                    "designerId": "ea91779e-9ab7-4b60-8c45-4fca48343334"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onWinNuevoTramiteAfterRender",
                "implHandler": [
                    "//Formulario",
                    "var forma = Ext.getCmp('frmTramite').getForm();",
                    "",
                    "if(component.curRec){ //Actualizar tramite",
                    "    forma.loadRecord(component.curRec);//Carga la forma con el registro",
                    "    ",
                    "    Ext.getCmp('cbParametro2').setDisabled(true);",
                    "    if(Ext.getCmp('cbAsunto2').getValue() !== null)",
                    "        this.onCbAsunto2Select();",
                    "}",
                    "",
                    "    else//Nuevo tramite",
                    "    {",
                    "        var Una = Ext.getCmp('cbParametro2');",
                    "        Ext.getCmp('cbParametro2').setValue(ParamVal);",
                    "        var rec = Ext.create('model.registromodel');",
                    "        forma.reset();",
                    "        forma.loadRecord(rec);",
                    "        Ext.getCmp('txtTraCodigo').setValue(null);",
                    "        var strUnidad = Ext.getStore('Unidad');",
                    "        rec= strUnidad.getAt(0);",
                    "        Ext.getCmp('cbUnidadSolicitante2').setValue(rec.get(Ext.getCmp('cbUnidadSolicitante2').valueField));",
                    "",
                    "        var ParamVal = Ext.getCmp('cbParametroPrincipal').getValue();",
                    "        Ext.getCmp('cbParametro2').setValue(ParamVal);",
                    "        Ext.getCmp('cbParametro2').disable(true);",
                    "    }",
                    "    Ext.getCmp('dtFecha').setValue(new Date());//Fecha tramite"
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onWinNuevoTramiteAfterRender",
            "designerId": "82ee4512-7628-4f68-86dc-71cd96799aac"
        }
    ]
}